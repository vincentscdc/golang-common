# Use the latest 2.1 version of CircleCI pipeline process engine.
# See: https://circleci.com/docs/2.0/configuration-reference
version: 2.1

# Enable dynamic configurations
setup: true

orbs:
  path-filtering: circleci/path-filtering@0.1.3

# Invoke jobs via workflows
# See: https://circleci.com/docs/2.0/configuration-reference/#workflows
workflows:
  always-run:
    jobs:
      - path-filtering/filter:
          name: check-update-files
          mapping: |
            .circleci/.* trigger-all true
            transport/http/handlerwrap trigger-transport-http-handlerwrap true
            monitoring/otelinit trigger-monitoring-otelinit true
            config/secrets trigger-config-secrets true
          config-path: .circleci/config_package.yml
